# 未来构想：高级监控栈 (Prometheus + Grafana)

**状态**: 搁置 (Shelved) / 未来构想
**原计划日期**: 2025-12-14
**来源**: 从 `2025-12-14_monitoring_implementation_plan.zh-CN.md` 移出

---

## 1. 背景
随着系统规模扩大（例如 Worker 数量 > 10 或需要跨多机部署），仅靠日志和 Redis 命令可能无法满足可观测性需求。此时可以考虑引入业界标准的监控栈。

## 2. 架构设计

### 组件
1.  **Prometheus**: 时序数据库，负责从各个服务 "拉取" (Pull) 指标。
2.  **Grafana**: 可视化面板，连接 Prometheus 展示图表。
3.  **Exporters**:
    *   `redis_exporter`: 监控 Redis 自身的健康（内存、连接数、OPS）。
    *   `node_exporter`: 监控服务器硬件（CPU、内存、磁盘 I/O）。
    *   `ASR Backend Exporter`: (需开发) 在 Go Backend 中暴露 `/metrics` 接口，提供业务指标（如 RTF、队列深度、活跃 Worker 数）。

## 3. 预期收益
*   **历史趋势**: 可以看到过去 24 小时甚至 30 天的负载变化。
*   **报警机制**: 当队列堆积或错误率突增时，通过邮件/钉钉/Slack 发送报警。
*   **统一视图**: 在一个屏幕上看到所有组件的状态。

## 4. 搁置原因
目前系统处于单机/小规模部署阶段，引入这套系统会带来额外的运维成本（需要维护额外的容器和配置），且当前通过简单的 "心跳机制" 已解决了最核心的高可用问题。因此决定暂时搁置，待业务有明确需求时再启动。
